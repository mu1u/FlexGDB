<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>自定义解码/编码器 | FlexGDB</title>
    <meta name="description" content="新一代轻量级Redis GUI,直观管理Redis数据库,支持多平台Windows、Mac和Linux系统,安装简单迅速,连接本地及远程Redis,可视化展示键值数据,快速操作键值对,内置控制台直接运行命令,数据浏览备份导出,慢日志查询,新手高级用户首选,大幅提高Redis应用开发效率。">
    <meta name="generator" content="VitePress v1.2.3">
    <link rel="preload stylesheet" href="/assets/style.CfMd7zkG.css" as="style">
    
    <script type="module" src="/assets/app.BK097GSl.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.C9KBZyuy.js">
    <link rel="modulepreload" href="/assets/chunks/theme.D4eQytWJ.js">
    <link rel="modulepreload" href="/assets/zh_guide_custom-decoder_index.md.GJoh27y3.lean.js">
    <link rel="icon" type="image/svg+xml" href="/images/logo.svg">
    <link rel="icon" type="image/png" href="/images/appicon.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:url" content="https://redis.tinycraft.cc">
    <meta property="og:description" content="新一代轻量级Redis GUI,直观管理Redis数据库,支持多平台Windows、Mac和Linux系统,安装简单迅速,连接本地及远程Redis,可视化展示键值数据,快速操作键值对,内置控制台直接运行命令,数据浏览备份导出,慢日志查询,新手高级用户首选,大幅提高Redis应用开发效率。">
    <meta property="twitter:url" content="https://redis.tinycraft.cc">
    <meta property="twitter:title" content="FlexGDB">
    <meta property="twitter:description" content="新一代轻量级Redis GUI,直观管理Redis数据库,支持多平台Windows、Mac和Linux系统,安装简单迅速,连接本地及远程Redis,可视化展示键值数据,快速操作键值对,内置控制台直接运行命令,数据浏览备份导出,慢日志查询,新手高级用户首选,大幅提高Redis应用开发效率。">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo.svg" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>FlexGDB</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zh/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>主页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/zh/guide/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>使用指南</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>简介</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>关于FlexGDB</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/installation.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>安装软件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/authorization.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>获取授权</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>用法和配置</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/connection/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>连接设备</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/download/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>软件升级</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/key-loading/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>变量调试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/filter/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>在线采样</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/sample-offline/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>离线采样</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/event-recorder/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>事件记录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/param-config/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>参数配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/custom-config.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>个性配置</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>其他</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/faq.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>常见问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/zh/guide/privacy.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>隐私政策</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _zh_guide_custom-decoder_" data-v-39a288b8><div><h1 id="自定义解码-编码器" tabindex="-1">自定义解码/编码器 <a class="header-anchor" href="#自定义解码-编码器" aria-label="Permalink to &quot;自定义解码/编码器&quot;">​</a></h1><p>Tiny RDM除了内置部分常用的解码方式（包括Base64/GZip/Deflate/ZStd/Brotli/Msgpack等），也支持用户自定义解码器和编码器，来满足更复杂的数据解析。</p><h2 id="相关概念术语" tabindex="-1">相关概念术语 <a class="header-anchor" href="#相关概念术语" aria-label="Permalink to &quot;相关概念术语&quot;">​</a></h2><p><code>解码器</code>：将数据库中读取到的原始内容，转换为友好的人类可读格式，便于展示和编辑。</p><p><img src="/assets/decode_example.Kb0LJVLg.png" alt="解码示例图"></p><p><code>编码器</code>：将人类可读格式下的内容，重新转回原始数据，用于保存到数据库中。</p><p><img src="/assets/encode_example.CSGiVBcN.png" alt="编码示例图"></p><h2 id="工作原理" tabindex="-1">工作原理 <a class="header-anchor" href="#工作原理" aria-label="Permalink to &quot;工作原理&quot;">​</a></h2><p>Tiny RDM通过执行外部应用程序来进行解码/编码操作。</p><p>为了方便不同开发语言和程序之间进行传输，原始数据会先进行Base64编码成字符串，再通过参数输出，经由外部应用程序的解码/编码处理后，同样以Base64形式接收输入。外部应用程序如果出现处理数据失败（如无法解码等情况），直接输出普通文本<code>[RDM-ERROR]</code>即可。</p><p>基本输出输入流程如下图：</p><p><img src="/assets/flow.DZvIre1h.png" alt="解码流程"></p><h2 id="创建使用示例" tabindex="-1">创建使用示例 <a class="header-anchor" href="#创建使用示例" aria-label="Permalink to &quot;创建使用示例&quot;">​</a></h2><p>下面将以编写一个PHP序列化器和反序列化器为例子，来说明如何自行构建和使用<code>解码/编码器</code>。</p><h3 id="解码器" tabindex="-1">解码器 <a class="header-anchor" href="#解码器" aria-label="Permalink to &quot;解码器&quot;">​</a></h3><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">php</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$decoded </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> base64_decode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($argv[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($decoded </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    $obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> unserialize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($decoded);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        $unserialized </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> json_encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($obj, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON_UNESCAPED_UNICODE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSON_UNESCAPED_SLASHES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($unserialized </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> base64_encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($unserialized);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;[RDM-ERROR]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>将上面代码保存为文件<code>php_decoder.php</code>，可通过命令行进行简单测试：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/php_decoder.php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> YToxOntzOjY6IuS9oOWlvSI7czo4OiJ0aW55X3JkbSI7fQ==</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">提示</p><p>此处输入的内容<code>YToxOntzOjY6IuS9oOWlvSI7czo4OiJ0aW55X3JkbSI7fQ==</code>为文本<code>a:1:{s:6:&quot;你好&quot;;s:8:&quot;tiny_rdm&quot;;}</code>的Base64编码</p></div><p>如果逻辑正确，应该会输出<code>eyLkvaDlpb0iOiJ0aW55X3JkbSJ9</code>，即字符串<code>{&quot;你好&quot;:&quot;tiny_rdm&quot;}</code>的Base64编码。</p><h3 id="编码器" tabindex="-1">编码器 <a class="header-anchor" href="#编码器" aria-label="Permalink to &quot;编码器&quot;">​</a></h3><p>根据上面解码器的示例代码，我们来实现编码器的逻辑</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">php</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$decoded </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> base64_decode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($argv[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($decoded </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    $json </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> json_decode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($decoded, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($json </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        $serialized </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> serialize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($json);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($serialized </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> base64_encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($serialized);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;[RDM-ERROR]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>保存为文件<code>php_encoder.php</code>， 同样可以进行简单测试：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/php_encoder.php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eyLkvaDlpb0iOiJ0aW55X3JkbSJ9</span></span></code></pre></div><p>如果一切顺利，将会输出<code>YToxOntzOjY6IuS9oOWlvSI7czo4OiJ0aW55X3JkbSI7fQ==</code>。到这一步，自行实现的解码器和编码器都已准备就绪。</p><h3 id="使用方式" tabindex="-1">使用方式 <a class="header-anchor" href="#使用方式" aria-label="Permalink to &quot;使用方式&quot;">​</a></h3><p>完成上面两步所创建的解码器和编码器，我们来总结下其命令行使用方式。 此处编写的是php脚本，依赖php运行，所以使用方式如下：</p><ul><li>解码执行命令</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/php_decoder.php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {VALUE}</span></span></code></pre></div><ul><li>编码执行命令</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/php_encoder.php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {VALUE}</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">提示</p><p>除了通过对应环境运行脚本，也可以运行任意可独立执行的二进制文件，只要能提供命令行界面工具运行方式即可。</p></div><div class="info custom-block"><p class="custom-block-title">说明</p><ul><li><code>/path/to</code>需要替换成对应脚本文件所在目录</li><li><code>{VALUE}</code>为输入到解码器/编码器的原始内容Base64编码字符串<code>占位符</code></li></ul></div><h3 id="添加使用" tabindex="-1">添加使用 <a class="header-anchor" href="#添加使用" aria-label="Permalink to &quot;添加使用&quot;">​</a></h3><p>打开Tiny RDM，依次打开<code>偏好设置</code>=&gt;<code>自定义解码</code>=&gt;<code>新增解码/编码器</code>，填写内容如下：</p><p><img src="/assets/add_decoder.KUkM09Ep.png" alt="自定义编码列表"></p><div class="info custom-block"><p class="custom-block-title">参数说明</p><ul><li><strong>解码器名称</strong>：用于展示在解码下拉列表中的名称</li><li><strong>解码器执行路径</strong>：解码器可执行二进制文件所在路径。由于上述例子需要执行的是php脚本，所以将<code>php cli</code>作为执行文件</li><li><strong>运行参数</strong>：执行外部程序解码所需参数，此处第一个参数为需要执行的php文件路径，第二个为需解码的内容占位符，使用<code>{VALUE}</code>代替。如果不填写内容占位符，则会在执行期间将内容作为最后一个参数传入</li><li><strong>自动解码</strong>：当加载一段尚未被识别类型的内容时，会优先尝试使用此解码器进行解码</li></ul></div><p>同样的，编码器标签页的填写内容如下：</p><p><img src="/assets/add_encoder.CPO2B9sk.png" alt="自定义编码列表"></p><p>确认保存后，就可以在解码列表中找到这个编码选项了！</p><img src="/assets/decode_list.DOU10Y6U.png" width="240"><p>至此，自定义解码器和编码器都已完成，尝试使用它来打开一个对应编码的键吧~</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-d4a0bba5><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d4a0bba5><span class="visually-hidden" id="doc-footer-aria-label" data-v-d4a0bba5>Pager</span><div class="pager" data-v-d4a0bba5><!----></div><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link next" href="/zh/guide/" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Next page</span><span class="title" data-v-d4a0bba5>关于FlexGDB</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>基于商业许可协议</p><p class="copyright" data-v-e315a0ad>Copyright © 2024-present Graceup Software Dev Studio</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"changelog_v1.1.2.md\":\"DiZN0EAf\",\"changelog_v1.1.5.md\":\"DUkB-Db3\",\"changelog_v1.0.1.md\":\"BbVv9ulW\",\"changelog_v1.0.5.md\":\"CEsA4CVB\",\"changelog_v1.0.2.md\":\"Dx8ivmfe\",\"changelog_v1.1.11.md\":\"Bqj_MhY-\",\"changelog_v1.1.0.md\":\"NVwHwDO8\",\"changelog_v1.1.4.md\":\"BIQycGke\",\"changelog_v1.0.8.md\":\"DsWBtPpr\",\"changelog_v1.0.9.md\":\"BSiH0fFz\",\"changelog_v1.1.12.md\":\"CNv7ixmu\",\"changelog_v1.1.8.md\":\"nk54EJK_\",\"zh_changelog_v1.1.0.md\":\"BZc70ysJ\",\"zh_guide_faq.md\":\"Cr1guRd7\",\"zh_changelog_v1.0.2.md\":\"Cp4YDRMX\",\"zh_guide_connection.md\":\"BbPmKeJJ\",\"guide_privacy.md\":\"DVyInc3_\",\"changelog_v1.1.6.md\":\"Csou60oA\",\"changelog_v1.0.7.md\":\"CMxVo8Ch\",\"zh_changelog_v1.0.1.md\":\"C44LQZxs\",\"changelog_v1.0.4.md\":\"ftocfODa\",\"guide_index.md\":\"NITRcP52\",\"guide_custom-config.md\":\"D13yYN4n\",\"guide_key-loading_index.md\":\"vj_9NsO_\",\"index.md\":\"DXySjvqA\",\"guide_installation.md\":\"ILrXdVPa\",\"zh_guide_event-recorder_index.md\":\"QmmotQ0W\",\"guide_faq.md\":\"BNW40RT0\",\"zh_index.md\":\"CWdaU21w\",\"zh_guide_custom-decoder_index.md\":\"GJoh27y3\",\"zh_guide_sample-offline_index.md\":\"CwpivJmC\",\"changelog_v1.1.9.md\":\"CsCGjmoG\",\"zh_guide_custom-config.md\":\"CrNXyCKz\",\"zh_changelog_v1.1.9.md\":\"DTS90pVA\",\"zh_changelog_v1.1.10.md\":\"CjOZPBTk\",\"zh_guide_key-loading_index.md\":\"DlV9fBpF\",\"zh_changelog_v1.1.11.md\":\"BruM7Iel\",\"zh_changelog_v1.0.4.md\":\"Cc4DnAN-\",\"zh_guide_authorization_index.md\":\"Bmsgc52B\",\"zh_changelog_v1.0.5.md\":\"Bn3_CRiH\",\"zh_changelog_v1.0.7.md\":\"Dao-08uQ\",\"zh_changelog_v1.1.2.md\":\"DQSQ5z2D\",\"changelog_v1.1.10.md\":\"BgNOfCVS\",\"guide_filter_index.md\":\"C54-UXer\",\"zh_guide_installation.md\":\"zu-BQG_l\",\"guide_custom-decoder_index.md\":\"wExjBxj4\",\"zh_changelog_v1.1.6.md\":\"QKwckWPy\",\"zh_guide_index.md\":\"D9txpSWd\",\"zh_changelog_v1.0.8.md\":\"BWu7WpXW\",\"zh_changelog_v1.1.12.md\":\"BRTBHqgo\",\"zh_changelog_v1.0.9.md\":\"C3g0odnF\",\"guide_connection.md\":\"S1izpdOH\",\"zh_guide_filter_index.md\":\"DRHooHEZ\",\"zh_guide_download_index.md\":\"CEkEhbdU\",\"zh_changelog_v1.1.8.md\":\"Cqayxwht\",\"zh_guide_param-config_index.md\":\"c4o8Rvtb\",\"zh_guide_privacy.md\":\"jqXqGQ4I\",\"zh_changelog_v1.1.5.md\":\"DAOas8_Q\",\"zh_changelog_v1.1.4.md\":\"DlO3EOFH\",\"zh_guide_connection_index.md\":\"3xnijI_N\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"FlexGDB\",\"description\":\"FlexGDB Doc Site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/images/logo.svg\",\"siteTitle\":\"FlexGDB\",\"sidebar\":[],\"socialLinks\":[],\"search\":{\"provider\":\"local\"}},\"locales\":{\"root\":{\"label\":\"中文\",\"lang\":\"zh\",\"description\":\"新一代轻量级Redis GUI,直观管理Redis数据库,支持多平台Windows、Mac和Linux系统,安装简单迅速,连接本地及远程Redis,可视化展示键值数据,快速操作键值对,内置控制台直接运行命令,数据浏览备份导出,慢日志查询,新手高级用户首选,大幅提高Redis应用开发效率。\",\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://redis.tinycraft.cc\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"新一代轻量级Redis GUI,直观管理Redis数据库,支持多平台Windows、Mac和Linux系统,安装简单迅速,连接本地及远程Redis,可视化展示键值数据,快速操作键值对,内置控制台直接运行命令,数据浏览备份导出,慢日志查询,新手高级用户首选,大幅提高Redis应用开发效率。\"}],[\"meta\",{\"property\":\"twitter:url\",\"content\":\"https://redis.tinycraft.cc\"}],[\"meta\",{\"property\":\"twitter:title\",\"content\":\"FlexGDB\"}],[\"meta\",{\"property\":\"twitter:description\",\"content\":\"新一代轻量级Redis GUI,直观管理Redis数据库,支持多平台Windows、Mac和Linux系统,安装简单迅速,连接本地及远程Redis,可视化展示键值数据,快速操作键值对,内置控制台直接运行命令,数据浏览备份导出,慢日志查询,新手高级用户首选,大幅提高Redis应用开发效率。\"}]],\"themeConfig\":{\"nav\":[{\"text\":\"主页\",\"link\":\"/zh/\"},{\"text\":\"使用指南\",\"link\":\"/zh/guide/\",\"activeMatch\":\"/zh/guide/\"}],\"sidebar\":{\"/zh/guide/\":{\"base\":\"/zh/guide\",\"items\":[{\"text\":\"简介\",\"items\":[{\"text\":\"关于FlexGDB\",\"link\":\"/\"},{\"text\":\"安装软件\",\"link\":\"/installation\"},{\"text\":\"获取授权\",\"link\":\"/authorization\"}]},{\"text\":\"用法和配置\",\"items\":[{\"text\":\"连接设备\",\"link\":\"/connection/\"},{\"text\":\"软件升级\",\"link\":\"/download/\"},{\"text\":\"变量调试\",\"link\":\"/key-loading/\"},{\"text\":\"在线采样\",\"link\":\"/filter/\"},{\"text\":\"离线采样\",\"link\":\"/sample-offline/\"},{\"text\":\"事件记录\",\"link\":\"/event-recorder/\"},{\"text\":\"参数配置\",\"link\":\"/param-config/\"},{\"text\":\"个性配置\",\"link\":\"/custom-config\"}]},{\"text\":\"其他\",\"items\":[{\"text\":\"常见问题\",\"link\":\"/faq\"},{\"text\":\"隐私政策\",\"link\":\"/privacy\"}]}]},\"/zh/changelog/\":{\"base\":\"/zh/changelog\",\"items\":[{\"text\":\"更新日志\",\"items\":[]}]}},\"footer\":{\"message\":\"基于商业许可协议\",\"copyright\":\"Copyright © 2024-present Graceup Software Dev Studio\"}}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>